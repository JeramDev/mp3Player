{"version":3,"sources":["js/index.js"],"names":["songs","currentSong","audio","Audio","volume","divText","document","querySelector","buttons","play","pause","prev","next","stop","fnPlay","prepareSong","putText","fnPause","fnPrev","length","fnNext","fnStop","currentTime","changeVolume","vol","name","innerHTML","fnVolume","bind","nameSong","cleanName","unescape","pos","lastIndexOf","miniName","substring","replace","addEventListener"],"mappings":";AAAA,IAAMA,EAAQ,CACV,mFACA,gEACA,kEAGAC,EAAc,EACdC,EAAQ,IAAIC,MAAMH,EAAMC,IAC5BC,EAAME,OAAS,GAEf,IAAMC,EAAUC,SAASC,cAAc,SACjCC,EAAU,CACZC,KAAMH,SAASC,cAAc,SAC7BG,MAAOJ,SAASC,cAAc,UAC9BI,KAAML,SAASC,cAAc,SAC7BK,KAAMN,SAASC,cAAc,SAC7BM,KAAMP,SAASC,cAAc,SAC7BH,OAAQE,SAASC,cAAc,YAGnC,SAASO,IACLC,IACAb,EAAMO,OACNO,IAGJ,SAASD,IACLE,KACAf,EAAQ,IAAIC,MAAMH,EAAMC,KAClBG,OAAS,GAGnB,SAASa,IACLf,EAAMQ,QAGV,SAASQ,MACLjB,EAEkB,IACdA,EAAcD,EAAMmB,OAAS,GAGjCL,IAGJ,SAASM,MACLnB,GAEmBD,EAAMmB,SACrBlB,EAAc,GAGlBa,IAGJ,SAASO,IACLnB,EAAMoB,YAAc,EACpBL,IAGJ,SAASM,EAAaC,EAAKC,GACvBvB,EAAME,OAASoB,EACfhB,EAAQJ,OAAOsB,UAAuCD,2BAAAA,OAAAA,EAAtD,UAGJ,SAASE,KAsDS,CACLJ,GAAAA,EAAaK,KAAK,KAAM,EAAG,MAC7BL,EAAAA,EAAaK,KAAK,KAAM,EAAG,QAC3BL,EAAAA,EAAaK,KAAK,KAAM,GAAK,UAE9B1B,EAAME,UAIhB,SAASY,IACCa,IAAAA,EAAW7B,EAAMC,GACjB6B,EAAYC,SAASF,GACrBG,EAAMF,EAAUG,YAAY,KAAO,EAEnCC,EADYJ,EAAUK,UAAUH,GACXI,QAAQ,OAAQ,IAC3C/B,EAAQqB,UAAYQ,EAGxB1B,EAAQC,KAAK4B,iBAAiB,QAASvB,GACvCN,EAAQE,MAAM2B,iBAAiB,QAASpB,GACxCT,EAAQG,KAAK0B,iBAAiB,QAASnB,GACvCV,EAAQI,KAAKyB,iBAAiB,QAASjB,GACvCZ,EAAQK,KAAKwB,iBAAiB,QAAShB,GACvCb,EAAQJ,OAAOiC,iBAAiB,QAASV","file":"js.aa079a17.js","sourceRoot":"../src","sourcesContent":["const songs = [\n    'https://scummbar.com/mi2/MI1-CD/01%20-%20Opening%20Themes%20-%20Introduction.mp3',\n    'https://scummbar.com/mi2/MI1-CD/02%20-%20Chapter%20Screen.mp3',\n    'https://scummbar.com/mi2/MI1-CD/03%20-%20The%20Scumm%20Bar.mp3'\n];\n\nlet currentSong = 0;\nlet audio = new Audio(songs[currentSong]); // Descarga la primera canción\naudio.volume = 0.5;\n\nconst divText = document.querySelector('.text');\nconst buttons = {\n    play: document.querySelector('.play'),\n    pause: document.querySelector('.pause'),\n    prev: document.querySelector('.prev'),\n    next: document.querySelector('.next'),\n    stop: document.querySelector('.stop'),\n    volume: document.querySelector('.volume')\n}\n\nfunction fnPlay() {\n    prepareSong();\n    audio.play();\n    putText();\n}\n\nfunction prepareSong() {\n    fnPause();\n    audio = new Audio(songs[currentSong]);\n    audio.volume = 0.5;\n}\n\nfunction fnPause() {\n    audio.pause();\n}\n\nfunction fnPrev() {\n    currentSong--;\n\n    if (currentSong < 0) {\n        currentSong = songs.length - 1;\n    }\n\n    fnPlay();\n}\n\nfunction fnNext() {\n    currentSong++;\n\n    if (currentSong >= songs.length) {\n        currentSong = 0;\n    }\n\n    fnPlay();\n}\n\nfunction fnStop() {\n    audio.currentTime = 0;\n    fnPause();\n}\n\nfunction changeVolume(vol, name) {\n    audio.volume = vol;\n    buttons.volume.innerHTML = `<i class=\"fas fa-volume-${name}\"></i>`;\n}\n\nfunction fnVolume() {\n\n    // Way 1 (ERROR!!)\n    // if (audio.volume == 0.5) {\n    //     audio.volume = 1;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-up\"></i>';\n    // }\n    // if (audio.volume == 1) {\n    //     audio.volume = 0;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-mute\"></i>';\n    // }\n    // if (audio.volume == 0) {\n    //     audio.volume = 0.5;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-down\"></i>';\n    // }\n\n    // Way 2 (ELSE!)\n    // if (audio.volume == 0.5) {\n    //     audio.volume = 1;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-up\"></i>';\n    // } else if (audio.volume == 1) {\n    //     audio.volume = 0;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-mute\"></i>';\n    // } else if (audio.volume == 0) {\n    //     audio.volume = 0.5;\n    //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-down\"></i>';\n    // }\n\n    // Way 3 (Refactor)\n    // En nuestro caso, se puede eliminar el último if\n    // if (audio.volume == 0.5)\n    //     changeVolume(1, 'up');\n    // else if (audio.volume == 1)\n    //     changeVolume(0, 'mute');\n    // else if (audio.volume == 0)\n    //     changeVolume(0.5, 'down');\n\n    // Way 4 (Switch)\n    // switch (audio.volume) {\n    //     case 0.5:\n    //         changeVolume(1, 'up');\n    //         break;\n    //     case 1:\n    //         changeVolume(0, 'mute');\n    //         break;\n    //     case 0:\n    //         changeVolume(0.5, 'down');\n    //         break;\n    //     default:\n    //         alert('ERROR: Esto no puede ocurrir');\n    //         break;\n    // }\n\n    // Way 5 (CRAZY JAVASCRIPT ULTIMATE REFACTOR)\n    const cases = {\n        0.5: changeVolume.bind(null, 1, 'up'),\n        1: changeVolume.bind(null, 0, 'mute'),\n        0: changeVolume.bind(null, 0.5, 'down')\n    }\n    cases[audio.volume]();\n\n}\n\nfunction putText() {\n    const nameSong = songs[currentSong];\n    const cleanName = unescape(nameSong);\n    const pos = cleanName.lastIndexOf('/') + 1;\n    const shortName = cleanName.substring(pos);\n    const miniName = shortName.replace('.mp3', '');\n    divText.innerHTML = miniName;\n}\n\nbuttons.play.addEventListener('click', fnPlay);\nbuttons.pause.addEventListener('click', fnPause);\nbuttons.prev.addEventListener('click', fnPrev);\nbuttons.next.addEventListener('click', fnNext);\nbuttons.stop.addEventListener('click', fnStop);\nbuttons.volume.addEventListener('click', fnVolume);"]}